<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>fabric.js sample 7 - selection.</title>
    <!-- Font Awesome -->
    <link href="/dist/css/fontawesome.all.min.css" rel="stylesheet" type="text/css" />
    <!-- JQuery UI -->
    <link href="/dist/css/jquery-ui.min.css" rel="stylesheet" type="text/css" />
    <!-- Bootstrap 4 -->
    <link href="/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/dist/css/bootstrap-grid.min.css" rel="stylesheet" type="text/css" />
    <link href="/dist/css/bootstrap-reboot.min.css" rel="stylesheet" type="text/css" />
    <!-- Flag and Emoji icons -->
    <link href="/dist/css/flag-icon.min.css" rel="stylesheet" type="text/css" />
    <link href="/dist/css/emojisymbol.min.css" rel="stylesheet" type="text/css" />
    <!-- style.css -->
    <link href="selection/style.css" rel="stylesheet" type="text/css" />
    <style>
        html {
            margin: 0 auto;
            width: 100vw;
            height: 100vh;
        }
        body {
            margin: 0 auto;
            width: 100%;
            height: 100%;
        }
        .designer {
            position: relative;
            display: block;
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            /*
            border: 1px solid silver;
            border-radius: 2px;
            */
            overflow: auto;
        }
    </style>
</head>
<body>
    <div class="designer">
        <canvas id="c"></canvas>
    </div>

    <!-- JQuery -->
    <script src="/dist/js/jquery.min.js"></script>
    <!-- JQuery UI -->
    <script src="/dist/js/jquery-ui.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="/dist/js/popper.min.js"></script>
    <script src="/dist/js/tooltip.min.js"></script>
    <script src="/dist/js/bootstrap.min.js">/* bootstrap required jQuery and popperjs. */</script>
    <!-- Moment.js -->
    <script src="/dist/js/moment.min.js"></script>
    <!-- gifuctjs -->
    <script src="/dist/js/gifuct-js.min.js"></script>
    <!-- fabricjs -->
    <script src="/dist/js/fabric.min.js"></script>
    <!-- Riot.js -->
    <script src="/dist/js/riot.min.js"></script>
    <!-- custom components -->
    <script src="/dist/js/tags.js"></script>
    <!-- nlib -->
    <script src="/dist/js/nlib.js"></script>
    <!-- script.js -->
    <script src="selection/script.js"></script>
    <!--
    <script src="selection/nlib-fabric.js"></script>
    -->
    <script>
        // setup selection control.
        fabric.Object.prototype.set({
            transparentCorners: false,
            borderColor: '#ff00ff',
            cornerColor: '#ff0000',
            cornerStyle: 'circle'
        });

        /* design code */
        let canvas = new fabric.Canvas('c');
        let WD = 1280;
        let HT = 720;

        canvas.setWidth(WD)
        canvas.setHeight(HT)
        //canvas.setDimensions({ width: WD, height: HT }, { cssOnly: true });
        canvas.setDimensions({ width: '100%', height: '100%' }, { cssOnly: true });

        // handle mouse event.
        canvas.on('mouse:up', (e) => {
            //check if user clicked an object
            if (e.target) {
                //clicked on object
                //alert('clicked on object' + e.target);
                console.log('clicked on object', e.target)
            }
            else {
                console.log('clicked on canvas')
            }
        });

        
    </script>
</body>
</html>